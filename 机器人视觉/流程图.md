

## 这个是整个程序的流程图

```flow
st=>start: 开始
photo=>subroutine: 拍摄图像
calib=>subroutine: 相机标定
measure=>subroutine: 测量
end=>end: 结束

st->photo
photo->calib
calib->measure
measure->end
```



## 这个是拍摄图像的流程图

```flow
st=>start: 开始
get=>operation: 获取摄像头图像
savepath=>operation: 设置图像保存路径

detect=>operation: 检测按键
camera=>operation: 获取图像
cond1=>condition: 检测到按键为‘s’？
cond2=>condition: 检测按键为‘q’？
save=>operation: 保存图像
ed=>end: 结束

st->get(right)->savepath->detect
detect->camera->cond1
cond1(no)->cond2
cond1(yes,right)->save(right)->detect
cond2(yes)->ed
cond2(no)->detect

```



## 这个是标定的流程图

```flow
st=>start: 开始
read=>operation: 读取图像
gray=>operation: 将图像转变为灰度图
coner=>operation: 寻找角点
cond1=>condition: 找到角点？
take=>operation: 把角点列入参照点
sss=>operation: 存储角点
show=>operation: 显示角点
find=>condition: 找到足够的角点？
calib=>operation: 标定
end=>end: 结束

st->read->gray->coner(right)->cond1
cond1(no,right)->find(no)->coner
find(yes)->show->calib(right)->end
cond1(yes)->take->sss(left)
```

## 这个是测量的流程图



```flow
st=>start: 开始
read=>operation: 读取相机的内参，标定平面图像
open=>operation: 根据标定板读取相机外参
read2=>operation: 读取待测图像
measure=>subroutine: 计算实际长度
end=>end: 结束

st->read(right)->open->read2->measure->end
```

## 这个是计算距离的流程图

```flow
st=>start: 开始
mask=>operation: 将图像HSV提取，提取出目标方块
contour=>operation: 提取目标的轮廓
max_con=>operation: 遍历所有的轮廓找出最大的轮廓
approxPlo=>operation: 拟合一个四边形
world=>operation: 投射到世界坐标系中
dis=>operation: 计算距离
end=>end: 结束

st->mask->contour->max_con->approxPlo->world->dis->end


```

